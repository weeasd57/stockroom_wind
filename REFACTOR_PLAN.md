# ุฎุทุฉ ุฅุนุงุฏุฉ ููููุฉ ุชุทุจูู FireStocks
## Refactor Plan for FireStocks App

### ุงูุชุญููู ุงูุญุงูู / Current Analysis

#### ุงูููุงุท ุงูุฅูุฌุงุจูุฉ / Strengths:
- โ ุงุณุชุฎุฏุงู Next.js 14 ูุน App Router
- โ ุชูุงูู ุฌูุฏ ูุน Supabase
- โ ุงุณุชุฎุฏุงู TypeScript ููููุงุฐุฌ
- โ ุงุณุชุฎุฏุงู Zustand ูุฅุฏุงุฑุฉ ุงูุญุงูุฉ
- โ ุชุตููู ูุชุฌุงูุจ ูุน Tailwind CSS
- โ ูุธุงู ูุตุงุฏูุฉ ููุชูู

#### ุงููุดุงูู ุงููุญุฏุฏุฉ / Identified Issues:
- โ ุชุฏุงุฎู ูู ุฅุฏุงุฑุฉ ุงูุญุงูุฉ (ุนุฏุฉ Providers)
- โ ุนุฏู ุชูุธูู ููุงุณุจ ููููุงุช ุงูููููุงุช
- โ ูููุงุช ูุจูุฑุฉ ุฌุฏุงู (CreatePostForm.js = 102KB)
- โ ุนุฏู ุงุณุชุฎุฏุงู TypeScript ุจุดูู ูุชุณู
- โ ููุต ูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุนุฏู ูุฌูุฏ ุงุฎุชุจุงุฑุงุช
- โ ุฃุฏุงุก ุบูุฑ ูุญุณูู ููุตูุฑ ูุงูุชุญููู

---

## ุฎุทุฉ ุงูุชุญุณูู / Improvement Plan

### ุงููุฑุญูุฉ 1: ุฅุนุงุฏุฉ ุชูุธูู ูููู ุงููุดุฑูุน
#### 1.1 ุชุญุณูู ุจููุฉ ุงููุฌูุฏุงุช
```
src/
โโโ app/                    # Next.js App Router
โโโ components/             # ุงูููููุงุช ุงูููุญุณููุฉ
โ   โโโ ui/                # ููููุงุช UI ุงูุฃุณุงุณูุฉ
โ   โโโ forms/             # ููุงุฐุฌ ูููุตูุฉ
โ   โโโ layout/            # ููููุงุช ุงูุชุฎุทูุท
โ   โโโ posts/             # ููููุงุช ุงูููุดูุฑุงุช
โ   โโโ profile/           # ููููุงุช ุงูููู ุงูุดุฎุตู
โโโ hooks/                 # Custom React Hooks
โโโ lib/                   # ููุชุจุงุช ูุณุงุนุฏุฉ
โโโ services/              # ุฎุฏูุงุช API
โโโ stores/                # ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
โโโ types/                 # ุชุนุฑููุงุช TypeScript
โโโ utils/                 # ุฃุฏูุงุช ูุณุงุนุฏุฉ
```

#### 1.2 ุชูุณูู ุงูููููุงุช ุงููุจูุฑุฉ
- ุชูุณูู `CreatePostForm.js` ุฅูู ููููุงุช ุฃุตุบุฑ
- ูุตู ููุทู ุงูุฃุนูุงู ุนู ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ุฅูุดุงุก hooks ูุฎุตุตุฉ ูููุธุงุฆู ุงููุนูุฏุฉ

### ุงููุฑุญูุฉ 2: ุชุญุณูู ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
#### 2.1 ุชูุญูุฏ Zustand Stores
- ุฏูุฌ ุฌููุน Providers ูู store ูุงุญุฏ ูููุธู
- ุฅูุดุงุก slices ูููุตูุฉ ููู ููุฒุฉ
- ุชุญุณูู ุฃุฏุงุก ุงูุชุญุฏูุซุงุช

#### 2.2 ุฅุถุงูุฉ Cache Management
- ุชูููุฐ React Query ููุจูุงูุงุช ูู ุงูุฎุงุฏู
- ุฅุฏุงุฑุฉ cache ููุตูุฑ ูุงูุจูุงูุงุช ุงูุซุงุจุชุฉ

### ุงููุฑุญูุฉ 3: ุชุญุณูู TypeScript
#### 3.1 ุชุญููู ุฌููุน ุงููููุงุช ุฅูู TypeScript
- ุชุญููู `.js` ุฅูู `.tsx/.ts`
- ุฅุถุงูุฉ types ูููุฉ ูุฌููุน ุงูููููุงุช
- ุชุญุณูู type safety

#### 3.2 ุฅูุดุงุก ูุฎุทุท types ุดุงูู
- types ููู API responses
- types ููููููุงุช
- types ููุญุงูุฉ ุงูุนุงูุฉ

### ุงููุฑุญูุฉ 4: ุชุญุณูู ุงูุฃุฏุงุก
#### 4.1 ุชุญุณูู ุงูุตูุฑ
- ุฅุถุงูุฉ next/image ููุชุญููู ุงููุญุณูู
- ุชูููุฐ lazy loading
- ุถุบุท ุงูุตูุฑ ุชููุงุฆูุงู

#### 4.2 ุชุญุณูู ุงูุชุญููู
- ุฅุถุงูุฉ React.lazy() ููููููุงุช ุงููุจูุฑุฉ
- ุชูููุฐ code splitting
- ุชุญุณูู bundle size

### ุงููุฑุญูุฉ 5: ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
#### 5.1 ุฅุถุงูุฉ Error Boundaries ุดุงููุฉ
- ูุนุงูุฌุฉ ุฃุฎุทุงุก JavaScript
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุดุจูุฉ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูููุณุชุฎุฏู

#### 5.2 ุชุญุณูู ุงูุชุณุฌูู ูุงููุฑุงูุจุฉ
- ุฅุถุงูุฉ ูุธุงู logging ูุชูุฏู
- ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- ุชุชุจุน ุงูุฃุฎุทุงุก

### ุงููุฑุญูุฉ 6: ุฅุถุงูุฉ ุงูุงุฎุชุจุงุฑุงุช
#### 6.1 ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ
- Jest + React Testing Library
- ุงุฎุชุจุงุฑุงุช ุงูููููุงุช
- ุงุฎุชุจุงุฑุงุช ุงูุฎุฏูุงุช

#### 6.2 ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู
- ุงุฎุชุจุงุฑุงุช API
- ุงุฎุชุจุงุฑุงุช ุงูุชุฏูู ุงููุงูู

---

## ุงูุฃููููุงุช / Priorities

### ุนุงููุฉ ุงูุฃููููุฉ / High Priority:
1. ุชูุณูู CreatePostForm.js
2. ุชุญุณูู ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
3. ุชุญููู ุฅูู TypeScript
4. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ูุชูุณุทุฉ ุงูุฃููููุฉ / Medium Priority:
1. ุชุญุณูู ุงูุฃุฏุงุก
2. ุฅุนุงุฏุฉ ุชูุธูู ูููู ุงููุฌูุฏุงุช
3. ุฅุถุงูุฉ React Query

### ููุฎูุถุฉ ุงูุฃููููุฉ / Low Priority:
1. ุฅุถุงูุฉ ุงูุงุฎุชุจุงุฑุงุช
2. ุชุญุณูู ุงูุตูุฑ
3. ุชุญุณูู bundle size

---

## ุงูุฎุทุฉ ุงูุฒูููุฉ / Timeline

### ุงูุฃุณุจูุน 1: ุงูุฃุณุณ
- โ ุชุญููู ุงูุชุทุจูู ุงูุญุงูู
- ๐ ุฅุตูุงุญ ูุดุงูู ุงูุฃูุงู
- โณ ุฅุนุงุฏุฉ ุชูุธูู ูููู ุงููุฌูุฏุงุช
- โณ ุชูุณูู ุงูููููุงุช ุงููุจูุฑุฉ

### ุงูุฃุณุจูุน 2: ุชุญุณูู ุงูููุฏ
- โณ ุชุญููู ุฅูู TypeScript
- โณ ุชุญุณูู ุฅุฏุงุฑุฉ ุงูุญุงูุฉ
- โณ ุฅุถุงูุฉ Error Boundaries

### ุงูุฃุณุจูุน 3: ุชุญุณูู ุงูุฃุฏุงุก
- โณ ุชูููุฐ React Query
- โณ ุชุญุณูู ุงูุตูุฑ
- โณ Code splitting

### ุงูุฃุณุจูุน 4: ุงูุงุฎุชุจุงุฑุงุช ูุงูุชูููุน
- โณ ุฅุถุงูุฉ ุงูุงุฎุชุจุงุฑุงุช
- โณ ุชุญุณูู ุงูุชูุซูู
- โณ ุชุญุณูู UX

---

## ุงููุนุงููุฑ / Success Metrics

### ุงูุฃุฏุงุก / Performance:
- ุชูููู bundle size ุจู 30%
- ุชุญุณูู ููุช ุงูุชุญููู ุงูุฃููู
- ุชุญุณูู Core Web Vitals

### ุฌูุฏุฉ ุงูููุฏ / Code Quality:
- 100% TypeScript coverage
- Zero linting errors
- 80%+ test coverage

### ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู / User Experience:
- ุชูููู ุฃููุงุช ุงูุชุญููู
- ุชุญุณูู ุงูุงุณุชุฌุงุจุฉ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

---

## ุงูุฎุทูุงุช ุงูุชุงููุฉ / Next Steps

1. โ ุฅูุดุงุก ุฎุทุฉ ุฅุนุงุฏุฉ ุงูููููุฉ
2. โณ ุงูุจุฏุก ูู ุชูุณูู ุงูููููุงุช ุงููุจูุฑุฉ
3. โณ ุฅูุดุงุก ูููู ูุฌูุฏุงุช ุฌุฏูุฏ
4. โณ ุชุญููู ุงููููุงุช ุงูุฑุฆูุณูุฉ ุฅูู TypeScript
5. โณ ุชูููุฐ ูุธุงู ุฅุฏุงุฑุฉ ุญุงูุฉ ูุญุณูู